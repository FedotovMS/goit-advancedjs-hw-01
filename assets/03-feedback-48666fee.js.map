{"version":3,"file":"03-feedback-48666fee.js","sources":["../../src/js/03-feedback.js"],"sourcesContent":["import throttle from 'lodash.throttle';\n\nconst form = document.querySelector('.feedback-form');\nconst LS_KEY = 'feedback-form-state';\n\nlet formData = {\n  email: '',\n  message: '',\n};\n\nfunction resetFormData() {\n  formData = { email: '', message: '' };\n}\n\nresetFormData();\nif (localStorage.getItem(LS_KEY)) {\n  formData = JSON.parse(localStorage.getItem(LS_KEY));\n}\n\nform.elements.email.value = formData.email;\nform.elements.message.value = formData.message;\n\nform.addEventListener(\n  'input',\n  throttle(e => {\n    formData[e.target.name] = e.target.value;\n    localStorage.setItem(LS_KEY, JSON.stringify(formData));\n  }, 500)\n);\n\nform.addEventListener('submit', e => {\n  if (!formData.message || !formData.email) {\n    alert('you have to fill in all fields');\n    return;\n  }\n  e.preventDefault();\n  console.log(formData);\n  resetFormData();\n  localStorage.removeItem(LS_KEY);\n  form.reset();\n});\n"],"names":["form","LS_KEY","formData","resetFormData","throttle","e"],"mappings":"4GAEA,MAAMA,EAAO,SAAS,cAAc,gBAAgB,EAC9CC,EAAS,sBAEf,IAAIC,EAAW,CACb,MAAO,GACP,QAAS,EACX,EAEA,SAASC,GAAgB,CACvBD,EAAW,CAAE,MAAO,GAAI,QAAS,EAAE,CACrC,CAEAC,IACI,aAAa,QAAQF,CAAM,IAC7BC,EAAW,KAAK,MAAM,aAAa,QAAQD,CAAM,CAAC,GAGpDD,EAAK,SAAS,MAAM,MAAQE,EAAS,MACrCF,EAAK,SAAS,QAAQ,MAAQE,EAAS,QAEvCF,EAAK,iBACH,QACAI,EAASC,GAAK,CACZH,EAASG,EAAE,OAAO,IAAI,EAAIA,EAAE,OAAO,MACnC,aAAa,QAAQJ,EAAQ,KAAK,UAAUC,CAAQ,CAAC,CACtD,EAAE,GAAG,CACR,EAEAF,EAAK,iBAAiB,SAAUK,GAAK,CACnC,GAAI,CAACH,EAAS,SAAW,CAACA,EAAS,MAAO,CACxC,MAAM,gCAAgC,EACtC,MACD,CACDG,EAAE,eAAc,EAChB,QAAQ,IAAIH,CAAQ,EACpBC,IACA,aAAa,WAAWF,CAAM,EAC9BD,EAAK,MAAK,CACZ,CAAC"}