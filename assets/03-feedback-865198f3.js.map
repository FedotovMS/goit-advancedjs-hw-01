{"version":3,"file":"03-feedback-865198f3.js","sources":["../../src/js/03-feedback.js"],"sourcesContent":["import throttle from 'lodash.throttle';\n\nconst refs = {\n  form: document.querySelector('.feedback-form'),\n};\n\nrefs.form.addEventListener('input', onChange);\nrefs.form.addEventListener('submit', onSubmit);\n\nconst thtottledLocalSorageUpdate = throttle(inputData => {\n  localStorage.setItem('feedback-form-state', JSON.stringify(inputData));\n}, 500);\n\nfunction onChange(e) {\n  const inputData = {\n    email: refs.form.elements.email.value.trim(),\n    message: refs.form.elements.message.value.trim(),\n  };\n\n  thtottledLocalSorageUpdate(inputData);\n}\n\nconst dataFromStorage =\n  JSON.parse(localStorage.getItem('feedback-form-state')) || {};\n\nif (dataFromStorage.email) {\n  refs.form.elements.email.value = dataFromStorage.email;\n}\nif (dataFromStorage.message) {\n  refs.form.elements.message.value = dataFromStorage.message;\n}\n\nfunction onSubmit(e) {\n  e.preventDefault();\n\n  dataFromStorage ?? console.log(dataFromStorage);\n\n  localStorage.removeItem('feedback-form-state');\n  refs.form.reset();\n}\n"],"names":["refs","onChange","onSubmit","thtottledLocalSorageUpdate","throttle","inputData","e","dataFromStorage"],"mappings":"4GAEA,MAAMA,EAAO,CACX,KAAM,SAAS,cAAc,gBAAgB,CAC/C,EAEAA,EAAK,KAAK,iBAAiB,QAASC,CAAQ,EAC5CD,EAAK,KAAK,iBAAiB,SAAUE,CAAQ,EAE7C,MAAMC,EAA6BC,EAASC,GAAa,CACvD,aAAa,QAAQ,sBAAuB,KAAK,UAAUA,CAAS,CAAC,CACvE,EAAG,GAAG,EAEN,SAASJ,EAASK,EAAG,CACnB,MAAMD,EAAY,CAChB,MAAOL,EAAK,KAAK,SAAS,MAAM,MAAM,KAAM,EAC5C,QAASA,EAAK,KAAK,SAAS,QAAQ,MAAM,KAAM,CACpD,EAEEG,EAA2BE,CAAS,CACtC,CAEA,MAAME,EACJ,KAAK,MAAM,aAAa,QAAQ,qBAAqB,CAAC,GAAK,GAEzDA,EAAgB,QAClBP,EAAK,KAAK,SAAS,MAAM,MAAQO,EAAgB,OAE/CA,EAAgB,UAClBP,EAAK,KAAK,SAAS,QAAQ,MAAQO,EAAgB,SAGrD,SAASL,EAASI,EAAG,CACnBA,EAAE,eAAc,EAEhBC,GAAmB,QAAQ,IAAIA,CAAe,EAE9C,aAAa,WAAW,qBAAqB,EAC7CP,EAAK,KAAK,OACZ"}